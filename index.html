<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Combined Visualizations: Income vs Household Size & Dwelling Type</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #f4f6f8; 
            margin: 0; 
            padding: 0 40px; 
            color: #333; 
            font-size: 0.95em; 
            line-height: 1.5; 
        }
        header { 
            background-color: #ffffff; 
            padding: 20px; 
            text-align: center; 
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05); 
        }
        header img { 
            max-height: 60px; 
        }
        h1 { 
            text-align: center; 
            margin-top: 30px; 
            font-size: 2.5em; 
            font-weight: 800; 
        }
        h2, h3 { 
            font-weight: 700; 
            color: #333; 
        }
        h3 { 
            margin-top: 30px; 
        }
        p { 
            margin: 10px 0; 
        }
        .container { 
            background-color: white; 
            border-radius: 20px; padding: 40px; 
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05); 
            margin: 50px auto; 
            max-width: 1200px; }
        canvas { 
            width: 100% !important; 
            height: auto !important;
         }
        footer { 
            text-align: center; 
            padding: 20px; 
            background-color: #ffffff; 
            box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.05); 
            margin-top: 50px; 
        }
        .button-nav { 
            text-align: center; 
            margin-bottom: 30px; 
        }
        .button-nav button { 
            padding: 10px 20px; 
            margin: 0 10px; 
            border: none; 
            border-radius: 10px; 
            background-color: #3498db; 
            color: white; 
            font-weight: 600; 
            cursor: pointer; 
        }
        .button-nav button.active { 
            background-color: #2ecc71; 
        }
    </style>
</head>
<body>

<header>
    <img src="https://www.sutd.edu.sg/wp-content/uploads/2024/10/SUTDLogo_Dark@2x.png" alt="SUTD Logo">
</header>

<h1>Singapore Household Income Insights: Multi-Year Analysis</h1>

<div class="button-nav">
    <button id="btn-page1" onclick="showPage(1)" class="active">Income vs Household Size</button>
    <button id="btn-page2" onclick="showPage(2)">Income vs Dwelling Type</button>
</div>

<div id="page1" class="container">
    <h2>Hypothesis</h2>
    <p>As average household size increases, average monthly income increases but at a decreasing rate, reflecting diminishing economic returns per additional household member.</p>
    <h2>Datasets</h2>
    <ul>
        <li>Resident Households by Monthly Household Income and Household Size (Household Expenditure Survey 2002/03, 2007/08, 2012/13, 2017/18)</li>
    </ul>
    <p><a href="https://data.gov.sg/datasets?query=Resident+Households+by+Monthly+Household+Income+and+Household+Size&page=1&resultId=d_db9775ba34e16e1d66400cba94f8a574">View Data Source</a></p>
    <h2>Visualization Choice</h2>
    <p>A scatterplot with all four survey years shown, each represented by its own dataset and trend line.</p>
    <h3>Scatterplot: Average Monthly Income vs Average Household Size</h3>
    <canvas id="incomeVsSizeChart"></canvas>
</div>

<div id="page2" class="container" style="display:none;">
    <h2>Hypothesis</h2>
    <p>Households residing in Condominiums and Landed Properties exhibit higher average monthly incomes compared to those in smaller HDB flats, showcasing socioeconomic stratification.</p>
    <h2>Datasets</h2>
    <ul>
        <li>Average Monthly Household Income Among Resident Households by Household Size and Type of Dwelling (Household Expenditure Survey 2002/03, 2007/08, 2012/13, 2017/18)</li>
    </ul>
    <p><a href="https://data.gov.sg/datasets?query=Average+Monthly+Household+Income+Among+Resident+Households+by+Household+Size+and+Type+of+Dwelling&page=1&resultId=d_b5619276fd420e5e5701bf9a3b081e1a">View Source</a></p>
    <h2>Visualization Choice</h2>
    <p>A scatterplot with all four survey years shown, each represented by its own dataset and trend line.</p>
    <h3>Scatterplot: Average Monthly Income vs Dwelling Unit Type</h3>
    <canvas id="incomeVsDwellingChart"></canvas>
</div>

<footer>
    <p>Data retrieved from <a href="https://data.gov.sg/" target="_blank">data.gov.sg</a></p>
    <p>Ravi Prudhvi Naga Sai Kumar - 1009460</p>
    <p>Master of Science in Urban Science, Policy and Planning</p>
</footer>

<script>
function showPage(page) {
    document.getElementById('page1').style.display = page === 1 ? 'block' : 'none';
    document.getElementById('page2').style.display = page === 2 ? 'block' : 'none';
    document.getElementById('btn-page1').classList.toggle('active', page === 1);
    document.getElementById('btn-page2').classList.toggle('active', page === 2);
}

const incomeSizeData = {
    '2002/03': [
        {x:2.0, y:500}, {x:2.9, y:1499.5}, {x:3.4, y:2499.5}, {x:3.6, y:3499.5}, {x:3.7, y:4499.5}, {x:3.8, y:5499.5}, {x:3.9, y:6999.5}, {x:4.1, y:8999.5}, {x:4.4, y:11000}
    ],
    '2007/08': [
        {x:1.9, y:500}, {x:2.6, y:1499.5}, {x:3.2, y:2499.5}, {x:3.4, y:3499.5}, {x:3.5, y:4499.5}, {x:3.6, y:5499.5}, {x:3.9, y:6999.5}, {x:3.9, y:8999.5}, {x:4.2, y:11000}
    ],
    '2012/13': [
        {x:1.7, y:500}, {x:2.3, y:1499.5}, {x:2.7, y:2499.5}, {x:3.0, y:3499.5}, {x:3.2, y:4499.5}, {x:3.5, y:5499.5}, {x:3.6, y:6999.5}, {x:3.8, y:8999.5}, {x:4.1, y:11000}
    ],
    '2017/18': [
        {x:1.7, y:500}, {x:2.1, y:1499.5}, {x:2.3, y:2499.5}, {x:2.7, y:3499.5}, {x:2.8, y:4499.5}, {x:3.0, y:5499.5}, {x:3.2, y:6999.5}, {x:3.4, y:8999.5}, {x:3.8, y:11000}
    ]
};

new Chart(document.getElementById('incomeVsSizeChart'), {
    type: 'scatter',
    data: {
        datasets: Object.entries(incomeSizeData).map(([year, points]) => ({
            label: year,
            data: points,
            showLine: true,
            tension: 0.3
        }))
    },
    options: {
        plugins: {
            title: { display: true, text: 'Household Size vs Average Monthly Income (All Years)' },
            legend: { display: true, position: 'bottom' }
        },
        scales: {
            x: { title: { display: true, text: 'Average Household Size' } },
            y: { title: { display: true, text: 'Average Monthly Income (SGD)' } }
        }
    }
});

const dwellingCategories = [
    "1-2 Room HDB Flats",
    "3 Room HDB Flats",
    "4 Room HDB Flats",
    "5 Room & Executive HDB Flats",
    "Condominiums & Other Apartments",
    "Landed Properties"
];

const dwellingData = {
    '2002/03': [
        {x:1, y:2242.33}, {x:2, y:3612.5}, {x:3, y:4372.33}, {x:4, y:6505.67}, {x:5, y:12970.83}, {x:6, y:14291.17}
    ],
    '2007/08': [
        {x:1, y:2294.17}, {x:2, y:4383.33}, {x:3, y:5445.83}, {x:4, y:8394.33}, {x:5, y:16650.5}, {x:6, y:17341.0}
    ],
    '2012/13': [
        {x:1, y:2469.17}, {x:2, y:5879.5}, {x:3, y:7860.33}, {x:4, y:10300.0}, {x:5, y:20760.83}, {x:6, y:22199.0}
    ],
    '2017/18': [
        {x:1, y:3123.33}, {x:2, y:6944.33}, {x:3, y:9035.5}, {x:4, y:11721.5}, {x:5, y:24189.33}, {x:6, y:24727.17}
    ]
};

new Chart(document.getElementById('incomeVsDwellingChart'), {
    type: 'scatter',
    data: {
        datasets: Object.entries(dwellingData).map(([year, points]) => ({
            label: year,
            data: points,
            showLine: true,
            tension: 0.3
        }))
    },
    options: {
        plugins: {
            title: { display: true, text: 'Dwelling Unit Type vs Average Monthly Income (All Years)' },
            legend: { display: true, position: 'bottom' }
        },
        scales: {
            x: {
                title: { display: true, text: 'Dwelling Unit Type' },
                ticks: { callback: (val) => dwellingCategories[val - 1] }
            },
            y: { title: { display: true, text: 'Average Monthly Income (SGD)' } }
        }
    }
});
</script>

</body>
</html>
